
#git使用示例

###Git的基本原理###

Git与其他版本控制系统的差别在于Git对待数据的方法，其他的版本控制系统主要存储文件变更信息，保存的信息可以看作一组基本文件和每个文件随着时间逐步累积的差异。如下图1所示，每个版本存储的都是与上一个版本的差异内容。

![图1 Git工作区-暂存区和Git仓库示意图](\image\Git-Store-File-Delta-to-Orgin.jpg)

Git则是将数据看作是小型文件系统的一组快照。提交更新或Git保存项目状态时，对当时的全部文件制作一个快照并保存快照索引。为了高效，如果文件没有修改，git不再重新存储文件而只保留一个链接指向之前存储文件。如图2所示，每一个版本对于没有修改的文件则直接使用虚线表示直线前面文件的索引。

![图2 Git工作区-暂存区和Git仓库示意图](\image\Git-Timing-change-image.jpg)

Git有三种状态，文件会处于其中之一：已提交（committed），已修改（modified）和已暂存（staged）。与三种状态对应引入了Git项目中的三个工作区域的概念：Git仓库，工作目录以及暂存区域。三个工作区域的交互如下图3所示。

![图3 Git工作区-暂存区和Git仓库示意图](\image\Git-WorkingDirectory-StagingArea-GitRepository.jpg)

**Git仓库**用来保存项目的元数据和对象数据库，它是git最重要的部分，从其他计算机克隆仓库时拷贝的就是这里的内容。

**工作目录**是对应项目的某个版本提取出来的内容。即从Git仓库的压缩数据库中提取出来的文件，放在磁盘上供使用或修改。

**暂存区域**是一个文件，保存了下一次将提交的文件列表信息，一般在Git仓库目录中。

基本的Git工作流程：

* 在工作目录中修改文件。
* 暂存文件，将文件快照放入暂存区域。
* 提交更新，找到暂存区域的文件，将快照永久性存储到Git仓库目录。

###Git配置###

Git自带一个`git config`工具用来帮助设置Git外观和行为，每台机器上只需配置一次。`git config`配置的变量会存储在三个不同位置：

* `/etc/gitconfig`文件：包含了每一个用户以及他们仓库的通用配置，使用带有`--system`选项的`git config`时会从这个文件读写配置变量。在windows上该文件位于Git安装目录下。
* `～/.gitconfig`或`～/.config/git/config`文件：只针对当前用户，可以传递`git config --global`形式的命令来读写该文件。在Windows系统中，Git会查找`$PATH`目录下的`.gitconfig`文件，用于针对用户的设置。
* 当使用当前仓库的git目录中的config文件（即`.git/config`），则只针对当前仓库生效。

每一级的配置信息会覆盖上一级中相同的配置信息。




